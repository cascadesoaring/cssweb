<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <style>
      /* Constrain these two images to max 300px by 300px while preserving aspect ratio */
      #windgram,
      #keatcam {
        max-width: 300px;
        max-height: 300px;
        width: auto;
        height: auto;
        display: block;
      }
    </style>
  </head>
  <body>
    <img id="windgram" alt="Chelan windgram">
    <img id="keatcam" alt="Pangborn Airport webcam">

    <script>
      // Get today's date
      const today = new Date();
      const yyyy = today.getFullYear();
      const mm = String(today.getMonth() + 1).padStart(2, '0');
      const dd = String(today.getDate()).padStart(2, '0');

      // Random number for cache-busting
      const rand = Math.floor(Math.random() * 1e8);

      const wxtofly_chelan = `http://wxtofly.net/windgrams/${yyyy}-${mm}-${dd}_Chelan_windgram.png?${rand}`;
      const windgramUrl = `https://images.weserv.nl/?url=${encodeURIComponent(wxtofly_chelan)}`;

      const keatcamUrl = `https://cam.pangbornairport.com/webcam/pawebcam.jpg?${rand}`;
      
      // Set image src
      document.getElementById('windgram').src = windgramUrl;
      document.getElementById('keatcam').src = keatcamUrl;
    </script>
  </body>
</html>
